---
sidebar_position: 16
draft: false
description: 通过树莓派TV HAT，您可以在树莓派上使用板载 DVB-T 和 DVB-T2 调谐器接收地面数字电视广播系统。有了这块板，您就可以在树莓派上接收和观看电视，或者创建一个电视服务器，通过网络将接收到的电视流传输到其他设备。
keywords: [树莓派, Raspberry Pi, TV HAT, 电视]
last_update: 
  date: 2024-11-01
---
import Normal from "../_normal.mdx";

# TV HAT

## 关于TV HAT

<img src="/img/accessories/tv-hat/tv-hat.jpg" alt="TV HAT" width="80%" />
*树莓派TV HAT*

通过树莓派TV HAT，您可以在树莓派上使用板载 DVB-T 和 DVB-T2 调谐器接收地面数字电视广播系统。有了这块板，您就可以在树莓派上接收和观看电视，或者创建一个电视服务器，通过网络将接收到的电视流传输到其他设备。TV HAT 可与任何 40 针树莓派电路板一起使用，作为网络上其他设备的服务器。在树莓派上接收和观看电视的性能可能会有所不同，我们建议使用树莓派2或更高版本。

主要功能
- 索尼 CXD2880 电视调谐器
- 支持的电视标准 DVB-T2、DVB-T
- 接收频率 甚高频三、甚高频四、甚高频五
- 频道带宽
  - DVB-T2：1.7MHz、5MHz、6MHz、7MHz、8MHz
  - DVB-T：5MHz、6MHz、7MHz、8MHz

## 关于DVB-T
:::warning[警告]
电视天线罩不支持北美使用的数字电视标准 ATSC。
:::

地面数字视频广播（DVB-T）是基于欧洲的 DVB 联盟标准，用于地面数字电视广播传输。世界上还有其他数字电视标准，如北美使用的 ATSC。不过，电视天线罩只支持 DVB-T 和 DVB-T2 标准。

<img src="/img/accessories/tv-hat/dvbt-map.png" alt="DVB-T 地图" width="70%" />
*已实施或采用的 DTT 系统（资料来源：DVB/EBU/BNE DTT 部署数据库，2023 年 3 月）*

## 安装
按照我们的[入门文档](../computers/getting-started.mdx)，使用最新版本的树莓派OS设置树莓派。

将天线适配器连接到 TV HAT，并将适配器指向远离 USB 端口的方向，将 HAT 轻轻压在树莓派的 GPIO 引脚上，然后将垫片放在 HAT 的两到三个角上，并通过安装孔拧紧螺丝将其固定到位。然后将TV HAT 的天线适配器连接到电视天线的电缆上。

我们推荐用于解码码流（称为多路复用，简称复用）和查看内容的软件称为 TVHeadend。TV HAT 一次可解码一个多路复用器，每个多路复用器可包含多个频道供选择。内容既可以在连接了 TV-HAT 的树莓派上观看，也可以发送到同一网络上的其他设备上。

启动树莓派，然后打开终端窗口，运行以下两条命令安装 `tvheadend` 软件：
```sh
sudo apt update
sudo apt install tvheadend
```
安装 `tvheadend` 时，系统会要求你选择一个管理员账户名和密码。你稍后会用到这些信息，所以一定要选择你能记住的。

在网络上的另一台电脑上，打开网页浏览器，在地址栏中输入以下内容：[http://raspberrypi.local:9981/extjs.html](http://raspberrypi.local:9981/extjs.html)

这将连接到运行在树莓派上的 `tvheadend`。通过浏览器连接到 `tvheadend` 后，系统会提示你使用在树莓派上安装 `tvheadend` 时选择的账户名和密码登录。

这时会出现一个设置向导。

首先会要求你设置 `tvheadend` 使用的语言，然后设置网络、用户和管理员访问权限。如果你没有特定的偏好，请将 "**允许网络**" 留空，并在**用户名**和**密码**字段中输入星号（*）。这样，任何连接到本地网络的人都可以访问 `tvheadend`。

您会看到一个名为 "**网络设置**" 的窗口。在 **网络 2** 下，您应该看到 `Tuner: Sony CDX2880 #0 : DVB-T #0`。**网络类型**请选择 `DVB-T Network`。下一个窗口是**将预定义的多路复用器分配到网络**；在这里，您可以选择要接收和解码的电视流。在网络 1 下，对于预定义的多路复用器，选择本地电视发射机。

:::note[注意]
您可以通过 [Freeview 网站](https://www.freeview.co.uk/help)找到本地发射台。输入您的邮政编码，查看哪个发射台能为您提供良好的信号。
:::

单击 "**保存并下一步**" 后，软件将开始扫描所选的多路复用器，并显示进度条。大约两分钟后，您应该会看到如下信息
```
Found muxes: 8
Found services: 172
```
在下一个名为 "**服务映射**" 的窗口中，勾选所有三个方框： **映射所有服务**、**创建提供商标签**和**创建网络标签**。您应该会看到可以收看的电视频道列表，以及当前正在播放的节目。

要在浏览器中观看电视频道，请单击频道列表左侧的小电视图标，就在 **i** 图标的右侧。这将弹出一个浏览器内媒体播放器。根据浏览器内置的解码设施和播放的流媒体类型，您可能会发现播放会比较生涩。在这种情况下，我们建议使用本地媒体播放器作为播放应用程序。

要在本地媒体播放器（如 [VLC](https://www.videolan.org/vlc)）中观看电视频道，需要将其下载为流媒体。点击频道列表左侧的 **i** 图标，弹出该频道的信息面板。在这里你可以看到一个可以下载的流文件。

:::note[注意]
许多应用程序都支持 `tvheadend`，例如 iOS 的 TvhClient，它可以从树莓派播放电视。
:::

## 机械图

<img src="/img/accessories/tv-hat/mechanical.png" alt="机械图" />
*树莓派TV HAT*

<Normal />
